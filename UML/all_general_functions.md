# General functions overview 

## GUI(GTK)

* Representation in real time of the input (pedals, shifter, etc.) generated by the user 
* Easy configuration of the devices
* Console for displaying information
* Firmware update and upload
* GUI update
* Verification of software dependencies (STM32CubeProgrammer) bin path selection
* Information about the program

## Pedals 

*Note 1: for some cases is implied to use a serial terminal*

*Note 2: some function depends of other sources like config files founded at PC(Linux system)*

- Get analog readings
  - Serial data communication with ADC chip
    - initial IC configuration (Resolution, speed, one shot,etc)
    - *Get data*
  - getting the data stream from the load cell IC 
    - Configure a pwm channel to generate the clock signal
    - *Get data*

- Compact or mergue all the data for usb HID protocol
  * After the analog readings send the usb data stream

- Load pre-configuration using the dip switch 
  * if it's not posible to load a new configuration to the pcb because it's imposible to access to the GUI it will have some profiles pre-loaded

- HID device descriptor
  - 3 to 11 channels
  - 14 bits each
  - serial terminal for pcb status and configuration
  - bit stream for configuration *optional*

- PCB Status
  - Check if ICs ADC and load cell function correctly _serial terminal_
  - show the status with the serial terminal and leds

- apply filter to any analog signal
  * before sending the data, it will apply a function to modify the raw values to apply a filter(low filter, high filter)
  *Note: this will be generated by the GUI and sended by the serial terminal*

- Calibration functions

  _Note 1: This process will be guide graphical by the GUI, if the GUI isn't available then can be Configure with the serial terminal_
  
  - choose the start and stop position
  - sensibility
  - select what pedal correspond to certain input

- UI config file (.txt | .config | .cae32) *Founded in the Linux system*

- add function to check system stability (low resorces or not enough speed, etc)

- all task or functions need to return finish status (SUCCESS, ERROR, [custom errors messages]) 

